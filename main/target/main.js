"use strict";var e=require("os"),t=require("electron"),i=require("path");class n{window=null;constructor(e){this.window=new t.BrowserWindow({frame:!1,x:e?e.x:null,y:e?e.y:null,width:e?e.width:1200,height:e?e.height:800,minWidth:720,minHeight:480,webPreferences:{preload:e?e.preload:null,nodeIntegration:!0,contextIsolation:!0}}),e&&e.maximized&&this.window.maximize(),t.app.isPackaged?this.window.loadFile(e.index).then((()=>{this.setup()})):this.window.loadURL(e.index).then((()=>{this.setup()}))}setup(){}get id(){return this.window.id}get webContents(){return this.window.webContents}}i.join(t.app.getPath("userData"),"app");const s=new class{windows=new Map;constructor(){}setup(){}open(){const e=new n({index:"https://www.baidu.com"});this.windows.set(e.id,e)}start(){t.app.requestSingleInstanceLock()?(t.Menu.setApplicationMenu(null),t.app.whenReady().then((()=>{this.open()}))):t.app.quit()}};e.release().startsWith("6.1")&&t.app.disableHardwareAcceleration(),"win32"===process.platform&&t.app.setAppUserModelId(t.app.getName());t.app.on("window-all-closed",(()=>{"darwin"!==process.platform&&t.app.quit()})),t.app.on("certificate-error",((e,t,i,n,s,a)=>{e.preventDefault(),a(!0)})),s.start();
