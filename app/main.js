"use strict";var e=require("os"),t=require("electron"),n=require("path");class i{window=null;constructor(e){this.window=new t.BrowserWindow({frame:!1,x:e?e.x:null,y:e?e.y:null,width:e?e.width:1200,height:e?e.height:800,minWidth:720,minHeight:480,webPreferences:{preload:e?e.preload:null,nodeIntegration:!0,contextIsolation:!0}}),e&&e.maximized&&this.window.maximize(),this.window.loadFile(e.index).then((()=>{this.setup()}))}setup(){}get id(){return this.window.id}get webContents(){return this.window.webContents}}const r=t.app.getAppPath();n.join(t.app.getPath("userData"),"app");const s=new class{windows=new Map;constructor(){}setup(){}open(){const e=new i({index:n.join(r,"renderer","index.html")});this.windows.set(e.id,e)}start(){t.app.requestSingleInstanceLock()?(t.Menu.setApplicationMenu(null),t.app.whenReady().then((()=>{this.open()}))):t.app.quit()}};e.release().startsWith("6.1")&&t.app.disableHardwareAcceleration(),"win32"===process.platform&&t.app.setAppUserModelId(t.app.getName());t.app.on("window-all-closed",(()=>{"darwin"!==process.platform&&t.app.quit()})),t.app.on("certificate-error",((e,t,n,i,r,s)=>{e.preventDefault(),s(!0)})),s.start();
