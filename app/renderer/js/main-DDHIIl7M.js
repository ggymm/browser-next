import{c as X,o as p,a as g,b as u,n as M,r as N,_ as T,d as re,e as C,u as k,f as A,g as ae,m as le,t as ce,i as O,h as Y,j as ge,k as ze,w as ke,l as Ce,p as Se,q as Le,s as Be,v as F,x as $e,y as de,z as Q,A as H,F as ue,B as fe,C as Me,D as Ve,E as ve,G as Ee}from"./_plugin-vue_export-helper-9Ot2C8Vz.js";if(typeof window<"u"){let e=function(){var s=document.body,t=document.getElementById("__CUSTOM_SVG_ICON__");t||(t=document.createElementNS("http://www.w3.org/2000/svg","svg"),t.style.position="absolute",t.style.width="0",t.style.height="0",t.id="__CUSTOM_SVG_ICON__",t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),t.innerHTML='<symbol  viewBox="0 0 16 16" id="icon-close"><path fill="currentColor" fill-rule="evenodd" d="m7.116 8-4.558 4.558.884.884L8 8.884l4.558 4.558.884-.884L8.884 8l4.558-4.558-.884-.884L8 7.116 3.442 2.558l-.884.884z" clip-rule="evenodd" /></symbol><symbol  viewBox="0 0 16 16" id="icon-down"><path fill="currentColor" d="M3.2 5.74a.75.75 0 0 1 1.06-.04L8 9.227 11.74 5.7a.75.75 0 1 1 1.02 1.1l-4.25 4a.75.75 0 0 1-1.02 0l-4.25-4a.75.75 0 0 1-.04-1.06" /></symbol><symbol  viewBox="0 0 24 24" id="icon-info"><path d="M12 2C6.489 2 2 6.489 2 12s4.489 10 10 10 10-4.489 10-10S17.511 2 12 2zm0 2c4.43 0 8 3.57 8 8s-3.57 8-8 8-8-3.57-8-8 3.57-8 8-8zm-1 3v2h2V7h-2zm0 4v6h2v-6h-2z" /></symbol><symbol  viewBox="0 0 24 24" id="icon-loading"><path fill="none" stroke="currentColor" stroke-dasharray="15" stroke-dashoffset="15" stroke-linecap="round" stroke-width="2" d="M12 3a9 9 0 0 1 9 9"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12" /></path></symbol><symbol  viewBox="0 0 16 16" id="icon-maximize"><path fill="currentColor" d="M3 3v10h10V3zm9 9H4V4h8z" /></symbol><symbol  viewBox="0 0 16 16" id="icon-minimize"><path fill="currentColor" d="M14 8v1H3V8z" /></symbol><symbol  viewBox="0 0 12 12" id="icon-nav-back"><path fill="currentColor" d="M10.5 6a.5.5 0 0 0-.5-.5H3.207l2.647-2.646a.5.5 0 1 0-.708-.708l-3.5 3.5a.5.5 0 0 0 0 .708l3.5 3.5a.5.5 0 0 0 .708-.708L3.207 6.5H10a.5.5 0 0 0 .5-.5" /></symbol><symbol  viewBox="0 0 12 12" id="icon-nav-forward"><path fill="currentColor" d="M1.5 6a.5.5 0 0 1 .5-.5h6.793L6.146 2.854a.5.5 0 1 1 .708-.708l3.5 3.5a.5.5 0 0 1 0 .708l-3.5 3.5a.5.5 0 0 1-.708-.708L8.793 6.5H2a.5.5 0 0 1-.5-.5" /></symbol><symbol  viewBox="0 0 12 12" id="icon-nav-refresh"><path fill="currentColor" d="M2 2.5a.5.5 0 0 1 1 0v.854a4 4 0 1 1-.963 3.19c-.04-.298.207-.544.508-.544.251 0 .451.205.489.453A3 3 0 1 0 3.764 4H4.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z" /></symbol><symbol  viewBox="0 0 12 12" id="icon-nav-stop"><path fill="currentColor" d="m2.089 2.216.057-.07a.5.5 0 0 1 .638-.057l.07.057L6 5.293l3.146-3.147a.5.5 0 1 1 .708.708L6.707 6l3.147 3.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L6 6.707 2.854 9.854a.5.5 0 0 1-.708-.708L5.293 6 2.146 2.854a.5.5 0 0 1-.057-.638l.057-.07z" /></symbol><symbol  viewBox="0 0 16 16" id="icon-restore"><g fill="currentColor"><path d="M3 5v9h9V5zm8 8H4V6h7z" /><path fill-rule="evenodd" d="M5 5h1V4h7v7h-1v1h2V3H5z" clip-rule="evenodd" /></g></symbol><symbol  viewBox="0 0 16 16" id="icon-tab-add"><path fill="currentColor" d="M8.5 2.75a.75.75 0 0 0-1.5 0V7H2.75a.75.75 0 0 0 0 1.5H7v4.25a.75.75 0 0 0 1.5 0V8.5h4.25a.75.75 0 0 0 0-1.5H8.5z" /></symbol><symbol  viewBox="0 0 16 16" id="icon-tab-close"><path fill="currentColor" d="m2.397 2.554.073-.084a.75.75 0 0 1 .976-.073l.084.073L8 6.939l4.47-4.47a.75.75 0 1 1 1.06 1.061L9.061 8l4.47 4.47a.75.75 0 0 1 .072.976l-.073.084a.75.75 0 0 1-.976.073l-.084-.073L8 9.061l-4.47 4.47a.75.75 0 0 1-1.06-1.061L6.939 8l-4.47-4.47a.75.75 0 0 1-.072-.976l.073-.084z" /></symbol><symbol  viewBox="0 0 24 24" id="icon-temp"><path fill="none" stroke="currentColor" stroke-dasharray="15" stroke-dashoffset="15" stroke-linecap="round" stroke-width="2" d="M12 3a9 9 0 0 1 9 9"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12" /></path></symbol><symbol  viewBox="0 0 16 16" id="icon-bak-close"><path fill="currentColor" d="M8 2.5a.5.5 0 0 0-1 0V7H2.5a.5.5 0 0 0 0 1H7v4.5a.5.5 0 0 0 1 0V8h4.5a.5.5 0 0 0 0-1H8z" /></symbol><symbol  viewBox="0 0 16 16" id="icon-bak-maximize"><path fill="currentColor" d="M4.5 3A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3zm0 1h7a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5" /></symbol><symbol  viewBox="0 0 16 16" id="icon-bak-minimize"><path d="M3 8h10a.5.5 0 1 0 0-1H3a.5.5 0 0 0 0 1z" fill="currentColor" /></symbol><symbol  viewBox="0 0 16 16" id="icon-bak-restore"><path fill="currentColor" d="M5.085 4A1.5 1.5 0 0 1 6.5 3H10a3 3 0 0 1 3 3v3.5a1.5 1.5 0 0 1-1 1.415V6a2 2 0 0 0-2-2zM4.5 5h5A1.5 1.5 0 0 1 11 6.5v5A1.5 1.5 0 0 1 9.5 13h-5A1.5 1.5 0 0 1 3 11.5v-5A1.5 1.5 0 0 1 4.5 5m0 1a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5v-5a.5.5 0 0 0-.5-.5z" /></symbol>',s.insertBefore(t,s.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}const Ie=["width","height"],We=["xlink:href"],Z={__name:"index",props:{size:{type:String,default:"16px"},icon:{type:String,required:!0}},setup(e){const s=e,t=X(()=>`#icon-${s.icon}`);return(o,a)=>(p(),g("svg",{"aria-hidden":"true",width:e.size,height:e.size},[u("use",{"xlink:href":t.value,fill:"currentColor"},null,8,We)],8,Ie))}},je=["width","height"],He=["xlink:href"],Re={__name:"index-wrap",props:{size:{type:String,default:"16px"},icon:{type:String,required:!0},wrap:{type:String,default:"wrap"}},setup(e){const s=e,t=X(()=>`#icon-${s.icon}`);return(o,a)=>(p(),g("div",{class:M(e.wrap)},[(p(),g("svg",{"aria-hidden":"true",width:e.size,height:e.size},[u("use",{"xlink:href":t.value,fill:"currentColor"},null,8,He)],8,je))],2))}},ee=(e,s)=>{if(!window.electron){console.error("Electron not available");return}const t=window.electron.ipcRenderer;if(!t){console.error("Electron IPC not available");return}t.on(e,s)},D=(e,...s)=>{if(!window.electron){console.error("Electron not available");return}const t=window.electron.ipcRenderer;if(!t){console.error("Electron IPC not available");return}t.send(e,...s)},Ae=e=>{ee("main:window:on-maximize",()=>{e(!0)}),ee("main:window:on-unmaximize",()=>{e(!1)})},Ne=()=>{D("renderer:window:close")},Oe=()=>{D("renderer:window:restore")},Pe=()=>{D("renderer:window:minimize")},Fe=()=>{D("renderer:window:maximize")},Xe=()=>{const e=N(!1);return Ae(c=>{e.value=c}),{maximized:e,closeWindow:()=>{Ne()},restoreWindow:()=>{Oe()},minimizeWindow:()=>{Pe()},maximizeWindow:()=>{Fe()}}},Te={flex:"","flex-row":"","justify-end":"","no-drag":"",class:"window-handle"},De={__name:"index",setup(e){const s=Xe(),{maximized:t}=s,o=()=>{s.closeWindow()},a=()=>{t.value=!1,s.restoreWindow()},c=()=>{s.minimizeWindow()},d=()=>{t.value=!0,s.maximizeWindow()};return re(()=>{console.log("store window init")}),(z,v)=>{const _=Z;return p(),g("div",Te,[u("div",{"no-drag":"","flex-center":"",class:"item",onClick:v[0]||(v[0]=n=>c())},[C(_,{icon:"minimize"})]),k(t)?(p(),g("div",{key:0,"no-drag":"","flex-center":"",class:"item",onClick:v[1]||(v[1]=n=>a())},[C(_,{icon:"restore"})])):A("",!0),k(t)?A("",!0):(p(),g("div",{key:1,"no-drag":"","flex-center":"",class:"item",onClick:v[2]||(v[2]=n=>d())},[C(_,{icon:"maximize"})])),u("div",{"no-drag":"","flex-center":"",class:"item close",onClick:v[3]||(v[3]=n=>o())},[C(_,{icon:"close"})])])}}},me=T(De,[["__scopeId","data-v-eb587983"]]);var Ue=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let he;const U=e=>he=e,pe=Symbol();function te(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var R;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(R||(R={}));function qe(){const e=ae(!0),s=e.run(()=>N({}));let t=[],o=[];const a=le({install(c){U(a),a._a=c,c.provide(pe,a),c.config.globalProperties.$pinia=a,o.forEach(d=>t.push(d)),o=[]},use(c){return!this._a&&!Ue?o.push(c):t.push(c),this},_p:t,_a:null,_e:e,_s:new Map,state:s});return a}const Ge=()=>{};function oe(e,s,t,o=Ge){e.push(s);const a=()=>{const c=e.indexOf(s);c>-1&&(e.splice(c,1),o())};return!t&&Le()&&Be(a),a}function E(e,...s){e.slice().forEach(t=>{t(...s)})}const Je=e=>e(),se=Symbol(),K=Symbol();function _e(e,s){e instanceof Map&&s instanceof Map?s.forEach((t,o)=>e.set(o,t)):e instanceof Set&&s instanceof Set&&s.forEach(e.add,e);for(const t in s){if(!s.hasOwnProperty(t))continue;const o=s[t],a=e[t];te(a)&&te(o)&&e.hasOwnProperty(t)&&!O(o)&&!Y(o)?e[t]=_e(a,o):e[t]=o}return e}const{assign:$}=Object;function Ke(e){return!!(O(e)&&e.effect)}function Qe(e,s,t,o){const{state:a,actions:c,getters:d}=s,z=t.state.value[e];let v;function _(){z||(t.state.value[e]=a?a():{});const n=$e(t.state.value[e]);return $(n,c,Object.keys(d||{}).reduce((i,h)=>(i[h]=le(X(()=>{U(t);const f=t._s.get(e);return d[h].call(f,f)})),i),{}))}return v=Ye(e,_,s,t,o,!0),v}function Ye(e,s,t={},o,a,c){let d;const z=$({actions:{}},t),v={deep:!0};let _,n,i=[],h=[],f;const b=o.state.value[e];N({});let V;function w(l){let r;_=n=!1,typeof l=="function"?(l(o.state.value[e]),r={type:R.patchFunction,storeId:e,events:f}):(_e(o.state.value[e],l),r={type:R.patchObject,payload:l,storeId:e,events:f});const m=V=Symbol();F().then(()=>{V===m&&(_=!0)}),n=!0,E(i,r,o.state.value[e])}const q=function(){const{state:r}=t,m=r?r():{};this.$patch(y=>{$(y,m)})};function G(){d.stop(),i=[],h=[],o._s.delete(e)}const I=(l,r="")=>{if(se in l)return l[K]=r,l;const m=function(){U(o);const y=Array.from(arguments),W=[],J=[];function be(L){W.push(L)}function xe(L){J.push(L)}E(h,{args:y,name:m[K],store:S,after:be,onError:xe});let j;try{j=l.apply(this&&this.$id===e?this:S,y)}catch(L){throw E(J,L),L}return j instanceof Promise?j.then(L=>(E(W,L),L)).catch(L=>(E(J,L),Promise.reject(L))):(E(W,j),j)};return m[se]=!0,m[K]=r,m},P={_p:o,$id:e,$onAction:oe.bind(null,h),$patch:w,$reset:q,$subscribe(l,r={}){const m=oe(i,l,r.detached,()=>y()),y=d.run(()=>ke(()=>o.state.value[e],W=>{(r.flush==="sync"?n:_)&&l({storeId:e,type:R.direct,events:f},W)},$({},v,r)));return m},$dispose:G},S=Ce(P);o._s.set(e,S);const x=(o._a&&o._a.runWithContext||Je)(()=>o._e.run(()=>(d=ae()).run(()=>s({action:I}))));for(const l in x){const r=x[l];if(!(O(r)&&!Ke(r)||Y(r))){if(typeof r=="function"){const m=I(r,l);x[l]=m,z.actions[l]=r}}}return $(S,x),$(ce(S),x),Object.defineProperty(S,"$state",{get:()=>o.state.value[e],set:l=>{w(r=>{$(r,l)})}}),o._p.forEach(l=>{$(S,d.run(()=>l({store:S,app:o._a,pinia:o,options:z})))}),b&&c&&t.hydrate&&t.hydrate(S.$state,b),_=!0,n=!0,S}function we(e,s,t){let o,a;typeof e=="string"?(o=e,a=s):(a=e,o=e.id);function c(d,z){const v=Se();return d=d||(v?ze(pe,null):null),d&&U(d),d=he,d._s.has(o)||Qe(o,a,d),d._s.get(o)}return c.$id=o,c}function ye(e){{e=ce(e);const s={};for(const t in e){const o=e[t];(O(o)||Y(o))&&(s[t]=ge(e,t))}return s}}const Ze=we({id:"tabs-store",state:()=>({tabs:[{id:1,title:"新标签页",loading:!0},{id:2,title:"新标签页新标签页新标签页新标签页新标签页新标签页",loading:!1,favicon:"https://p-pc-weboff.byteimg.com/tos-cn-i-9r5gewecjs/favicon.png"},{id:3,title:"新标签页",loading:!0},{id:4,title:"新标签页",loading:!1,favicon:"https://www.52pojie.cn/favicon.ico"}],width:240,current:2}),actions:{}}),et=we({id:"view-store",state:()=>({url:"http://localhost:8080",canBack:!1,canForward:!1,canReload:!0}),actions:{}});function tt(e){e.use(qe())}const ot={class:"address-bar"},st={class:"address-bar__nav"},nt={class:"address-bar__url"},it={class:"address-bar__url-prefix"},rt={__name:"index",setup(e){const s=et(),{url:t,canBack:o,canForward:a,canReload:c}=ye(s),d=X(()=>{try{const n=new URL(t.value);return n.pathname==="/"?[{val:n.protocol+"//",grey:!0},{val:n.hostname,grey:!1},{val:n.port?":":"",grey:!0},{val:n.port,grey:!0},{val:n.search,grey:!0},{val:n.hash,grey:!0}]:[{val:n.protocol+"//",grey:!0},{val:n.hostname,grey:!1},{val:n.port?":":"",grey:!0},{val:n.port,grey:!0},{val:n.pathname,grey:!0},{val:n.search,grey:!0},{val:n.hash,grey:!0}]}catch{return[{val:t.value,grey:!1}]}}),z=N(!1),v=()=>{z.value=!1},_=()=>{z.value=!0};return(n,i)=>{const h=de("svg-icon-wrap");return p(),g("div",ot,[u("div",st,[C(h,{icon:"nav-back",class:M({disable:!k(o)})},null,8,["class"]),C(h,{icon:"nav-forward",class:M({disable:!k(a)})},null,8,["class"]),k(c)?(p(),Q(h,{key:0,icon:"nav-refresh",class:M({disable:!k(c)})},null,8,["class"])):A("",!0),k(c)?A("",!0):(p(),Q(h,{key:1,icon:"nav-stop",class:M({disable:k(c)})},null,8,["class"]))]),u("div",nt,[u("div",{class:M(["address-bar__url-input",{active:z.value}])},[u("div",{class:"input-mask",style:H({display:z.value?"none":"flex"})},[(p(!0),g(ue,null,fe(d.value,(f,b)=>(p(),g("div",{key:b,style:H({opacity:f.grey?.7:1})},ve(f.val),5))),128))],4),Me(u("input",{class:"input-value",type:"text","onUpdate:modelValue":i[0]||(i[0]=f=>O(t)?t.value=f:null),onBlur:v,onFocus:_,style:H({color:z.value?"":"transparent"})},null,36),[[Ve,k(t)]])],2),u("div",it,[C(h,{icon:"info"})]),i[1]||(i[1]=u("div",{class:"address-bar__url-suffix"},null,-1))]),i[2]||(i[2]=u("div",{class:"tools"},null,-1))])}}},at=T(rt,[["__scopeId","data-v-7a73449d"]]),ne=function(e,s,t,o=!1){e&&s&&t&&e.addEventListener(s,t,o)},ie=function(e,s,t){e&&s&&t&&e.removeEventListener(s,t,!1)},lt={class:"browser-tabs"},ct={class:"tabs-shortcut"},dt=["onMousedown"],ut={class:"tab-bg"},ft={key:0,class:"tab-divider-last"},vt={class:"tab-main"},mt={class:"tab-icon"},ht=["src"],pt={class:"tab-title"},_t={class:"tab-close"},wt={__name:"index",setup(e){const s=Ze(),{tabs:t,width:o,current:a}=ye(s),c=N(),d=n=>n===t.value.length-1,z=(n,i)=>{n&&(i.el=n)},v=()=>{for(let n=0;n<t.value.length;n++){const i=o.value*n;t.value[n].x=i,t.value[n].el.style.left=`${i}px`}},_=(n,i)=>{a.value=i.id,F(()=>{f.classList.add("dragging")});const h=i.x,f=i.el,b=n.clientX-h,V=(t.value.length-1)*o.value+b,w=t.value,q=o.value,G=o.value/2,I=()=>{f.style.left=`${i.x}px`,f.style.transform="translateX(0px)",F(()=>{f.classList.remove("dragging")}),ie(document,"mouseup",I),ie(document,"mousemove",P)},P=B=>{if(B.clientX<b||B.clientX>V)return;const x=B.clientX-n.clientX;f.style.transform=`translateX(${x}px)`;const l=h+x+G;for(let r=0;r<w.length;r++){const m=w[r];if(i.id===m.id)continue;const y=m.x;l>y&&l<y+q&&S(i,m)}},S=(B,x)=>{let l=-1,r=-1;for(let y=0;y<w.length;y++)B.id===w[y].id&&(l=y),x.id===w[y].id&&(r=y);[w[l],w[r]]=[w[r],w[l]];const m=B.x;B.x=x.x,x.x=m,setTimeout(()=>{x.el.style.left=`${m}px`,x.el.classList.add("moving")},50),setTimeout(()=>{x.el.classList.remove("moving")},200)};ne(document,"mouseup",I),ne(document,"mousemove",P)};return re(()=>{F(()=>{v()})}),(n,i)=>{const h=de("svg-icon-wrap"),f=Z;return p(),g("div",lt,[u("div",ct,[C(h,{size:"16px",icon:"down"})]),u("div",{ref_key:"tabsRef",ref:c,class:"tabs-container"},[(p(!0),g(ue,null,fe(k(t),(b,V)=>(p(),g("div",{class:M(["tab-item",{active:k(a)===b.id}]),key:b.id,ref_for:!0,ref:w=>z(w,b),style:H({width:`${k(o)}px`}),onMousedown:w=>_(w,b)},[u("div",ut,[i[0]||(i[0]=u("div",{class:"tab-hover"},null,-1)),i[1]||(i[1]=u("div",{class:"tab-divider"},null,-1)),d(V)?(p(),g("div",ft)):A("",!0)]),u("div",vt,[u("div",mt,[b.loading?(p(),Q(f,{key:0,icon:"loading"})):(p(),g("img",{key:1,"wh-full":"",src:b.favicon,alt:""},null,8,ht))]),u("div",pt,ve(b.title),1),u("div",_t,[C(f,{size:"12px",icon:"tab-close"})])])],46,dt))),128)),u("div",{class:"tab-create",style:H({left:`${k(o)*k(t).length+4}px`})},[C(h,{size:"14px",icon:"tab-add"})],4)],512)])}}},yt=T(wt,[["__scopeId","data-v-99defd3c"]]),bt={class:"app"},xt={drag:"",flex:"","flex-row":"",class:"title-bar"},gt={"flex-1":""},zt={__name:"app",setup(e){return(s,t)=>{const o=me;return p(),g("div",bt,[u("div",xt,[u("div",gt,[C(yt,{"wh-full":""})]),C(o,{"min-w-240":""})]),C(at)])}}},kt=T(zt,[["__scopeId","data-v-7c54fe43"]]);async function Ct(){const e=Ee(kt);tt(e),e.component("SvgIcon",Z),e.component("SvgIconWrap",Re),e.component("WindowHandle",me),e.mount("#app")}Ct();
